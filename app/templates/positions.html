<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Token Universe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="/static/app.css">
</head>
<body>
  <div class="container">

    <div class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div class="brandText">
          <div class="brandTitle">Token Universe</div>
          <div class="brandSub">Paper trading arena ‚Ä¢ Solana memes</div>
        </div>
      </div>

      <div class="topbarRight">
        <button class="btn btnGhost" id="metricToggle" type="button">
          Metric: Market Cap
        </button>
        <div class="walletBadge" id="walletBalance">Wallet: $10,000.00</div>
        <div class="badge">
          <span class="dot"></span>
          Live via DexScreener
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panelHead">
        <div>
          <div class="h1">{{ title }}</div>
          <div class="hint">
            {% if active_tab == 'positions' %}
              Stored locally. Next step is ‚Äúpaper trades‚Äù that create positions automatically.
            {% else %}
              Stored locally. Star tokens anywhere to add them here.
            {% endif %}
          </div>
        </div>
      </div>

      <div class="tabs">
        <a class="tab {{ 'active' if active_tab == 'positions' else '' }}" href="/">üè†</a>
        <a class="tab" href="/search">Search</a>
        <a class="tab" href="/discover/trending">Trending</a>
        <a class="tab" href="/discover/graduated">Newly graduated</a>
        <a class="tab" href="/discover/verified">Verified</a>
        <a class="tab {{ 'active' if active_tab == 'watchlist' else '' }}" href="/watchlist">Watchlist</a>
      </div>

      <div class="actionRow">
        {% if active_tab == 'positions' %}
          <button class="btn btnGhost" id="seedDemo" type="button">Add demo positions</button>
          <button class="btn btnGhost" id="clearTrades" type="button">Clear</button>
        {% else %}
          <button class="btn btnGhost" id="clearWatch" type="button">Clear watchlist</button>
        {% endif %}
      </div>

      <div id="emptyState" class="empty" style="display:none;">
        <div class="emptyTitle">Nothing here yet</div>
        <div class="emptySub" id="emptySub"></div>
      </div>
    </div>

    <div id="cards" class="grid"></div>

    <div class="footer">
      Token Universe ‚Ä¢ Local state page (positions/watchlist)
    </div>

  </div>

  <div class="drawer" id="drawer">
    <div class="drawerTop">
      <div class="drawerTitle" id="drawerTitle">Token</div>
      <button class="drawerClose" id="drawerClose" type="button">Close</button>
    </div>
    <div class="drawerBody" id="drawerBody"></div>
    <div id="drawerChart"></div>
    <div class="tradePanel" id="drawerTrade">
      <div class="tradeGrid">
        <div class="tradeRow">
          <span>Market price</span>
          <strong id="drawerPrice">‚Äî</strong>
        </div>
        <div class="tradeRow">
          <span>Wallet cash</span>
          <strong id="drawerCash">$0.00</strong>
        </div>
        <div class="tradeRow">
          <span>Holdings</span>
          <strong id="drawerHoldings">0</strong>
        </div>
        <div class="tradeRow">
          <span>Open P/L</span>
          <strong id="drawerPnl">‚Äî</strong>
        </div>
        <div class="tradeRow">
          <span>Position value</span>
          <strong id="drawerValue">$0.00</strong>
        </div>
        <div class="tradeInputs">
          <input class="input" id="drawerUsd" placeholder="USD amount" inputmode="decimal"/>
          <input class="input" id="drawerQty" placeholder="Token qty" inputmode="decimal"/>
        </div>
        <div class="tradeActions">
          <button class="btn btnPrimary" id="drawerBuy" type="button">Buy @ Market</button>
          <button class="btn btnGhost" id="drawerSell" type="button">Sell @ Market</button>
        </div>
        <div class="tradeQuick" data-trade="quick">
          <div class="quickRow" data-quick-side="buy">
            <div class="quickLabel">Buy size</div>
            <div class="quickButtons">
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="0">5%</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="1">10%</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="2">50%</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="3">Max</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-settings>‚öôÔ∏è</button>
            </div>
          </div>
          <div class="quickRow" data-quick-side="sell">
            <div class="quickLabel">Sell size</div>
            <div class="quickButtons">
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="0">5%</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="1">10%</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="2">50%</button>
              <button class="btn btnGhost btnSmall" type="button" data-quick-index="3">Max</button>
            </div>
          </div>
        </div>
        <div class="quickSettings" data-trade="quick-settings">
          <div class="quickSettingsTitle">Quick sizes (%)</div>
          <div class="quickSettingsInputs">
            <input class="input inputSmall" type="number" min="1" max="100" data-quick-input="0"/>
            <input class="input inputSmall" type="number" min="1" max="100" data-quick-input="1"/>
            <input class="input inputSmall" type="number" min="1" max="100" data-quick-input="2"/>
            <input class="input inputSmall" type="number" min="1" max="100" data-quick-input="3"/>
          </div>
          <div class="quickSettingsActions">
            <button class="btn btnPrimary btnSmall" type="button" data-quick-save>Save</button>
          </div>
        </div>
        <div class="tradeHint" id="drawerHint"></div>
      </div>
    </div>
    <div class="drawerActions">
      <button class="btn btnGhost" id="drawerWatch" type="button">‚òÜ Watch</button>
      <button class="btn btnGhost" id="drawerCopy" type="button">Copy mint</button>
      <a class="btn btnPrimary" id="drawerOpen" href="#" target="_blank">Open</a>
    </div>
  </div>

  <script src="/static/state.js"></script>
  <script src="/static/ui.js"></script>
  <script>
    TokenUniverseUI.initPortfolioPage({ activeTab: "{{ active_tab }}" });
  </script>
</body>
</html>
